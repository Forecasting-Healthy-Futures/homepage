<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Data Management/Data Preprocessing and Database Management">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/homepage/blog/rss.xml" title="IMACS - Institute for Malaria and Climate Solutions RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/homepage/blog/atom.xml" title="IMACS - Institute for Malaria and Climate Solutions Atom Feed"><title data-rh="true">Data Preprocessing and Database Management | IMACS - Institute for Malaria and Climate Solutions</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Forecasting-Healthy-Futures.github.io/homepage/homepage/docs/Data Management/Data Preprocessing and Database Management"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Preprocessing and Database Management | IMACS - Institute for Malaria and Climate Solutions"><meta data-rh="true" name="description" content="Data pre-processing is crucial in defining the data for the model development and visualizations. The health data we get from the field has many missing values, and some data is not"><meta data-rh="true" property="og:description" content="Data pre-processing is crucial in defining the data for the model development and visualizations. The health data we get from the field has many missing values, and some data is not"><link data-rh="true" rel="icon" href="/homepage/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Forecasting-Healthy-Futures.github.io/homepage/homepage/docs/Data Management/Data Preprocessing and Database Management"><link data-rh="true" rel="alternate" href="https://Forecasting-Healthy-Futures.github.io/homepage/homepage/docs/Data Management/Data Preprocessing and Database Management" hreflang="en"><link data-rh="true" rel="alternate" href="https://Forecasting-Healthy-Futures.github.io/homepage/homepage/docs/Data Management/Data Preprocessing and Database Management" hreflang="x-default"><link rel="stylesheet" href="/homepage/assets/css/styles.2192abd7.css">
<link rel="preload" href="/homepage/assets/js/runtime~main.890bc7df.js" as="script">
<link rel="preload" href="/homepage/assets/js/main.575c6fa5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/homepage/"><div class="navbar__logo"><img src="/homepage/img/IMACS COLOR.png" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/homepage/img/IMACS COLOR.png" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Institute for Malaria and Climate Solutions</b></a><a class="navbar__item navbar__link navbar__link--active" href="/homepage/docs/intro">MPPT Documentation</a><a class="navbar__item navbar__link" href="/homepage/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Forecasting-Healthy-Futures" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/homepage/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/homepage/docs/Background/Malaria">Background</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/homepage/docs/Data Management/Data Framework">Data Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/Data Management/Data Framework">Data Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/homepage/docs/Data Management/Data Sources">Data Sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/homepage/docs/Data Management/Data Preprocessing and Database Management">Data Preprocessing and Database Management</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/homepage/docs/Data Modelling/Background">Data Modelling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/homepage/docs/Dashboards/Tableau Dashboard">Dashboard</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/homepage/docs/Annexure and Refrences">Annexure and Refrences</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/homepage/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Data Management</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Data Preprocessing and Database Management</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Preprocessing and Database Management</h1></header><p>Data pre-processing is crucial in defining the data for the model development and visualizations. The health data we get from the field has many missing values, and some data is not
in the correct format. We need to clean the data and prepare it for the model development.
In climate data, the date generally comes in the gridded or binary format, which has to
be converted to a tabular format and then appended to an existing database. The data
is already in a tabular form in health data, and we can directly append it to the current
database once cleaned and processed.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="health-data-cleaning-and-preprocessing">Health Data Cleaning and Preprocessing<a class="hash-link" href="#health-data-cleaning-and-preprocessing" title="Direct link to heading">‚Äã</a></h2><p>Health data comes in an excel file with multiple sheets. We need to find the sheets with
relevant data for each task. Currently, we have two pipelines for the data cleaning and
formatting process, python based pre-processing for model development and Alteryx-based
pre-processing for metadata management and hard-to-process data. Alteryx is an industryleading data no-code platform with drag and drop features to make single switch pipelines.
We will take individual leads on each method-</p><ul><li><strong>Python-based open source pre-processing:</strong> This pre-processing method is currently in
development. We will start with a data storage facility hosted on Azure Blob Storage.
The data comes directly from the field via the data portal. There is a manual task
to assign a sheet name to process each time. In the future, we will incorporate a
web-based interface to ask for the sheet name. As the data is uploaded to the upload
portal, it gets renamed, and a date time index gets attached to the file name to identify
the data and sort by time to find the latest file. We will also put the date and month
index in the web-based interface as a user input by the data uploader agent on the
portal. Now, after the data gets uploaded and the sheet name is identified, which
contains the SC or CHC-based data, we run a python based custom pipeline in the
Azure data factory. Azure data factory has links to Blob Storage via a security key.
Our data warehouse, Azure SQL Database, has also been linked via the different pipelines in
the Azure Data Factory. Once the data gets pre-processed via python script, it gets
saved in a separate container in the Blob Storage. After the manual review of the pre-
processing quality, a new pipeline is manually triggered to upload the output data to
the Azure SQL Database. We aim to fully automate this process of uploading data via the portal
and then pre-processing to uploading it to a Azure SQL Database table. The output folder for a
manual review is a redundant process, and its removal is future development. There
are several break point in the system which has to be repaired. The data that comes
up is an excel format with merged cells as column headers, and our python script has
a fixed recognization pattern, so if the pattern of cell merger changes a little, then the
exception commands trigger. The system will bypass the data file. At this point, we
include more checkpoints in the system to counter the exception raised, and then the
Alteryx-based pre-processing kicks in. Still, it requires files to be downloaded to the
local machine, and then the processed file can be directly uploaded to the Azure SQL Database
via a custom python connector. In pre-processing, we do the following.</li></ul><ol><li>Find the sheets which have relevant data for each task.</li><li>Remove the header column with merged cells</li><li>Replace the header with our defined header (the columns should be in proper
order)</li><li>Crop the rows and columns which has data (redundant rows and columns are
generally present)</li><li>Look for missing data</li><li>Check it every column satisfies its data type</li><li>If there is a data type error, then raise an error and bypass the system</li><li>Check for the name of CHC and SC and replace them with the correct name via
fuzzy logic matching</li><li>Send the processed file to an output container in the Blob Storage</li><li>After reviewing the data in the output container, upload the data to the Azure SQL Database
table</li></ol><p>We have also started to implement Spark based data processing of data coming through upload portal and then pushing it to Azure SQl data base. Python and SQL-based DataBricks tool are two popular methods for processing data, each with its own strengths and use cases. Python provides a variety of powerful libraries for data manipulation, such as pandas and numpy, which enable users to clean and transform data, perform calculations, and extract insights. Python also has extensive support for machine learning and artificial intelligence algorithms, making it a popular choice for data science applications. SQL-based DataBricks tool is a cloud-based platform that provides a unified analytics engine for big data processing. DataBricks is built on top of Apache Spark, an open-source distributed computing system that enables fast and scalable processing of large data sets. DataBricks provides a collaborative environment for data scientists, analysts, and other users to work together and share insights. It supports a range of big data analytics use cases, including data warehousing, machine learning, and streaming analytics. When it comes to data processing, Python is generally preferred for smaller datasets that can be processed on a single machine. SQL-based DataBricks tool is better suited for larger datasets that require distributed processing across multiple machines. However, the choice between these two methods depends on the specific needs of the project, the size and complexity of the dataset, and the skills and preferences of the data processing team.</p><p>In summary, both Python and SQL-based DataBricks tool are powerful tools for data processing, with their own strengths and use cases.</p><ul><li><strong>Alteryx-based pre-processing</strong> - This method of development is very robust. We have
used every proofing technique to get the true and desired data table. Since Alteryx is a
paid software and connectors are not available for Azure so we can‚Äôt use it to automate
our process. We have used Alteryx to create a pipeline that can be triggered manually.
We have used joins, filters, and even python scripts to get the desired data table. We
have used a custom python connector to upload the data to the Azure SQL Database table. We
follow the same pre-processing steps as we have defined above.
Fig 2.1 shows a sample workflow for the Koraput district pre-processing. There are
four blocks(top to bottom). The top block imports the data from the data lake, and
the following block helps view the data. The next block does the data engineering
task. Finally, the last block governs the name entity correction, and at the end, it
outputs a file which has to be manually uploaded to the data lake and then pushed to
the database.</li></ul><p><img loading="lazy" alt="Malaria_Life_Cycle" src="/homepage/assets/images/alteryx-3185a8a600ac80873eed4052582820a8.jpg" width="379" height="739" class="img_E7b_"></p><div>Figure 2.5: Sample Alteryx workflow for the Koraput District data pre-processing. This workflow can fix missing data, name entity correction, shape formatting, etc.</div><h2 class="anchor anchorWithStickyNavbar_mojV" id="database-management">Database Management<a class="hash-link" href="#database-management" title="Direct link to heading">‚Äã</a></h2><p>Azure SQL Database is a cloud-based relational database management system (RDBMS) that is part of Microsoft&#x27;s Azure cloud computing platform. It is designed to provide a scalable, secure, and fully-managed database service for applications running in the cloud. Azure SQL Database is built on the same engine as Microsoft SQL Server, which is a popular RDBMS used by many organizations. It provides many of the same features and capabilities as SQL Server, such as support for relational data, advanced querying capabilities, and built-in security features.</p><p>One of the key benefits of Azure SQL Database is its scalability. It can be easily scaled up or down based on the needs of the application, allowing organizations to pay only for the resources they need. It also provides high availability and disaster recovery features, such as automatic backups and geo-replication, which can help ensure that data is always available and protected Azure SQL Database is also highly secure. It includes built-in security features, such as dynamic data masking and row-level security, which can help protect sensitive data. It also integrates with Azure Active Directory, which provides centralized user management and authentication.</p><p>Overall, Azure SQL Database is a powerful and flexible cloud-based RDBMS that can help organizations to efficiently manage and scale their data in the cloud. Its scalability, security features, and integration with other Azure services make it a popular choice for cloud-based applications.</p><p>We have Odisha as a schema, and each district has its table. There is also a different
table for metadata management. In Azure SQL Database, there is also a feature of simple dashboarding
for simple visualization to get a feel of the data. Azure SQL Database has multiple connectors for
different data platforms like Alteryx, Tableau, and Azure. Tableau is an industry-standard
dashboarding tool. We have used Tableau to visualize the data, which will be discussed in
detail in the Dashboard chapter</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Data Management/Data Preprocessing and Database Management.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/homepage/docs/Data Management/Data Sources"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Sources</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/homepage/docs/Data Modelling/Background"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Background</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#health-data-cleaning-and-preprocessing" class="table-of-contents__link toc-highlight">Health Data Cleaning and Preprocessing</a></li><li><a href="#database-management" class="table-of-contents__link toc-highlight">Database Management</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/homepage/docs/intro">MPPT Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://https://www.malarianomore.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Malaria No More<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forecastinghealthyfutures.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forecasting Healthy Futures<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.malarianomore.org/news/new-institute-for-malaria-and-climate-solutions-launched-by-malaria-no-more-in-partnership-with-abu-dhabi-crown-prince-court-and-reaching-the-last-mile/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IMACS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/homepage/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/Forecasting-Healthy-Futures" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2023 Forecasting Healthy Futures. Built with Docusaurus.</div></div></div></footer></div>
<script src="/homepage/assets/js/runtime~main.890bc7df.js"></script>
<script src="/homepage/assets/js/main.575c6fa5.js"></script>
</body>
</html>